{"ast":null,"code":"import _asyncToGenerator from\"/Users/ayushbhardwaj/Downloads/react/newsapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/ayushbhardwaj/Downloads/react/newsapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/ayushbhardwaj/Downloads/react/newsapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/ayushbhardwaj/Downloads/react/newsapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/ayushbhardwaj/Downloads/react/newsapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/ayushbhardwaj/Downloads/react/newsapp/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from\"react\";import NewsItem from\"./NewsItem\";import Spinner from\"./Spinner\";import InfiniteScroll from\"react-infinite-scroll-component\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);// apiK = 'a98db098da0b47fb8cc23ec88e1ac083';\nfunction News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.cFL=function(string){return string.charAt(0).toUpperCase()+string.slice(1);};_this.fetchMoreData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,parsedData,_url,_data,_parsedData,_url2,_data2,_parsedData2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({page:_this.state.page+1});url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=\").concat(_this.state.apiK,\"&page=\").concat(_this.state.page,\"&pageSize=\").concat(_this.props.pageSize);_context.next=4;return fetch(url);case 4:data=_context.sent;_context.next=7;return data.json();case 7:parsedData=_context.sent;if(!(parsedData.status===\"ok\")){_context.next=12;break;}_this.setState({articles:_this.state.articles.concat(parsedData.articles),totalArticles:parsedData.totalResults});_context.next=33;break;case 12:_this.setState({apiK:\"765c8344bb974b888d87cb5221185475\"});_url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=\").concat(_this.state.apiK,\"&page=\").concat(_this.state.page,\"&pageSize=\").concat(_this.props.pageSize);_context.next=16;return fetch(_url);case 16:_data=_context.sent;_context.next=19;return _data.json();case 19:_parsedData=_context.sent;if(!(_parsedData.status===\"ok\")){_context.next=24;break;}_this.setState({articles:_this.state.articles.concat(_parsedData.articles),totalArticles:_parsedData.totalResults});_context.next=33;break;case 24:_this.setState({apiK:\"63c957333f134574a5808b85400d9ddd\"});_url2=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=\").concat(_this.state.apiK,\"&page=\").concat(_this.state.page,\"&pageSize=\").concat(_this.props.pageSize);_context.next=28;return fetch(_url2);case 28:_data2=_context.sent;_context.next=31;return _data2.json();case 31:_parsedData2=_context.sent;if(_parsedData2.status===\"ok\"){_this.setState({articles:_this.state.articles.concat(_parsedData2.articles),totalArticles:_parsedData2.totalResults});}case 33:case\"end\":return _context.stop();}}},_callee);}));_this.state={articles:[],loading:true,page:1,apiK:\"a98db098da0b47fb8cc23ec88e1ac083\",totalArticles:0};document.title=\"\".concat(_this.cFL(_this.props.category),\" - DailyAffairs\");return _this;}_createClass(News,[{key:\"updateNews\",value:function(){var _updateNews=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,data,parsedData,_url3,_data3,_parsedData3,_url4,_data4,_parsedData4;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=\").concat(this.state.apiK,\"&page=\").concat(this.state.page,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context2.next=4;return fetch(url);case 4:data=_context2.sent;_context2.next=7;return data.json();case 7:parsedData=_context2.sent;if(!(parsedData.status===\"ok\")){_context2.next=12;break;}this.setState({articles:parsedData.articles,totalArticles:parsedData.totalResults,loading:false});_context2.next=35;break;case 12:this.setState({apiK:\"765c8344bb974b888d87cb5221185475\"});_url3=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=\").concat(this.state.apiK,\"&page=\").concat(this.state.page,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context2.next=17;return fetch(_url3);case 17:_data3=_context2.sent;_context2.next=20;return _data3.json();case 20:_parsedData3=_context2.sent;if(!(_parsedData3.status===\"ok\")){_context2.next=25;break;}this.setState({articles:_parsedData3.articles,totalArticles:_parsedData3.totalResults,loading:false});_context2.next=35;break;case 25:this.setState({apiK:\"63c957333f134574a5808b85400d9ddd\"});_url4=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=\").concat(this.state.apiK,\"&page=\").concat(this.state.page,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context2.next=30;return fetch(_url4);case 30:_data4=_context2.sent;_context2.next=33;return _data4.json();case 33:_parsedData4=_context2.sent;if(_parsedData4.status===\"ok\"){this.setState({articles:_parsedData4.articles,totalArticles:_parsedData4.totalResults,loading:false});}case 35:return _context2.abrupt(\"return\",parsedData);case 36:case\"end\":return _context2.stop();}}},_callee2,this);}));function updateNews(){return _updateNews.apply(this,arguments);}return updateNews;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// let url =\n//   `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=a98db098da0b47fb8cc23ec88e1ac083`;\n// this.setState({ loading: true });\n// let data = await fetch(url);\n// let parsedData = await data.json();\n// this.setState({\n//   articles: parsedData.articles,\n//   totalArticles: parsedData.totalResults,\n//   loading: false,\n// });\nthis.updateNews();case 1:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()// handleNextClick = async () => {\n//   this.setState({ page: this.state.page + 1 });\n//   this.updateNews();\n// };\n// handlePrevClick = async () => {\n//   this.setState({ page: this.state.page - 1 });\n//   this.updateNews();\n// };\n},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center my-4\",style:{margin:\"40px 40px\"},children:[this.cFL(this.props.category),\" Headlines\"]}),this.state.loading?/*#__PURE__*/_jsx(Spinner,{}):null,/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:this.state.articles.length,next:this.fetchMoreData,hasMore:this.state.articles.length!==this.state.totalArticles,loader:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.articles.map(function(article){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4 col-xl-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-group\",children:/*#__PURE__*/_jsx(NewsItem,{title:article.title,description:article.description,imageUrl:article.urlToImage,newsUrl:article.url,source:article.source.name,author:article.author,date:article.publishedAt},article.url)})},\"{article.url}\");})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between my-3\",children:[/*#__PURE__*/_jsxs(\"button\",{disabled:this.state.page<2,type:\"button\",className:\"btn btn-dark\",onClick:this.handlePrevClick,children:[\" \",\"\\u2190 Previous\"]}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalArticles/20),type:\"button\",className:\"btn btn-dark\",onClick:this.handleNextClick,children:\"Next \\u2192\"})]})]});}}]);return News;}(Component);News.defaultProps={country:\"in\",pageSize:20,category:\"general\"};export default News;","map":{"version":3,"sources":["/Users/ayushbhardwaj/Downloads/react/newsapp/src/components/News.js"],"names":["React","Component","NewsItem","Spinner","InfiniteScroll","News","props","cFL","string","charAt","toUpperCase","slice","fetchMoreData","setState","page","state","url","country","category","apiK","pageSize","fetch","data","json","parsedData","status","articles","concat","totalArticles","totalResults","loading","document","title","updateNews","margin","length","map","article","description","urlToImage","source","name","author","publishedAt","handlePrevClick","Math","ceil","handleNextClick","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Spinner from \"./Spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\n\nexport class News extends Component {\n  static defaultProps = {\n    country: \"in\",\n    pageSize: 20,\n    category: \"general\",\n  };\n\n  static propTypes = {\n    country: PropTypes.string,\n    pageSize: PropTypes.number,\n    category: PropTypes.string,\n  };\n\n  cFL = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n  // apiK = 'a98db098da0b47fb8cc23ec88e1ac083';\n  constructor(props) {\n    super(props);\n    this.state = {\n      articles: [],\n      loading: true,\n      page: 1,\n      apiK: \"a98db098da0b47fb8cc23ec88e1ac083\",\n      totalArticles: 0,\n    };\n    document.title = `${this.cFL(this.props.category)} - DailyAffairs`;\n  }\n\n  async updateNews() {\n    const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.state.apiK}&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n    this.setState({ loading: true });\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    if (parsedData.status === \"ok\") {\n      this.setState({\n        articles: parsedData.articles,\n        totalArticles: parsedData.totalResults,\n        loading: false,\n      });\n    } else {\n      this.setState({\n        apiK: \"765c8344bb974b888d87cb5221185475\",\n      });\n      const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.state.apiK}&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n      this.setState({ loading: true });\n      let data = await fetch(url);\n      let parsedData = await data.json();\n      if (parsedData.status === \"ok\") {\n        this.setState({\n          articles: parsedData.articles,\n          totalArticles: parsedData.totalResults,\n          loading: false,\n        });\n      }\n      else{\n        this.setState({\n          apiK: \"63c957333f134574a5808b85400d9ddd\",\n        });\n        const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.state.apiK}&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n        this.setState({ loading: true });\n        let data = await fetch(url);\n        let parsedData = await data.json();\n        if (parsedData.status === \"ok\") {\n          this.setState({\n            articles: parsedData.articles,\n            totalArticles: parsedData.totalResults,\n            loading: false,\n          });\n        }\n      }\n    }\n    return parsedData;\n  }\n  async componentDidMount() {\n    // let url =\n    //   `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=a98db098da0b47fb8cc23ec88e1ac083`;\n    // this.setState({ loading: true });\n    // let data = await fetch(url);\n    // let parsedData = await data.json();\n    // this.setState({\n    //   articles: parsedData.articles,\n    //   totalArticles: parsedData.totalResults,\n    //   loading: false,\n    // });\n    this.updateNews();\n  }\n\n  // handleNextClick = async () => {\n    \n  //   this.setState({ page: this.state.page + 1 });\n  //   this.updateNews();\n  // };\n  // handlePrevClick = async () => {\n\n  //   this.setState({ page: this.state.page - 1 });\n  //   this.updateNews();\n  // };\n  fetchMoreData= async()=>{\n    this.setState({ page: this.state.page + 1 });\n    const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.state.apiK}&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n    \n    let data = await fetch(url);\n    let parsedData = await data.json();\n    if (parsedData.status === \"ok\") {\n      this.setState({\n        articles: this.state.articles.concat(parsedData.articles),\n        totalArticles: parsedData.totalResults,\n        \n      });\n    } else {\n      this.setState({\n        apiK: \"765c8344bb974b888d87cb5221185475\",\n      });\n      const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.state.apiK}&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n      \n      let data = await fetch(url);\n      let parsedData = await data.json();\n      if (parsedData.status === \"ok\") {\n        this.setState({\n          articles: this.state.articles.concat(parsedData.articles),\n          totalArticles: parsedData.totalResults,\n          \n        });\n      }\n      else{\n        this.setState({\n          apiK: \"63c957333f134574a5808b85400d9ddd\",\n        });\n        const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.state.apiK}&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n        \n        let data = await fetch(url);\n        let parsedData = await data.json();\n        if (parsedData.status === \"ok\") {\n          this.setState({\n            articles: this.state.articles.concat(parsedData.articles),\n            totalArticles: parsedData.totalResults,\n            \n          });\n        }\n      }\n    }\n  }\n    \n  render() {\n    return (\n      <div className=\"container my-3\">\n        <h1 className=\"text-center my-4\" style={{ margin: \"40px 40px\" }}>\n          {this.cFL(this.props.category)} Headlines\n        </h1>\n        {this.state.loading ? <Spinner /> : null}\n        <InfiniteScroll\n          dataLength={this.state.articles.length}\n          next={this.fetchMoreData}\n          hasMore={this.state.articles.length !== this.state.totalArticles}\n          loader={<Spinner />}\n        >\n        <div className=\"row\">\n          {this.state.articles.map((article) => {\n              return (\n                <div className=\"col-md-6 col-lg-4 col-xl-3\" key=\"{article.url}\">\n                  <div className=\"card-group\">\n                    <NewsItem\n                      key={article.url}\n                      title={article.title}\n                      description={article.description}\n                      imageUrl={article.urlToImage}\n                      newsUrl={article.url}\n                      source={article.source.name}\n                      author={article.author}\n                      date={article.publishedAt}\n                    />\n                  </div>\n                </div>\n              );\n            })}\n        </div>\n        </InfiniteScroll>\n        <div className=\"container d-flex justify-content-between my-3\">\n          <button\n            disabled={this.state.page < 2}\n            type=\"button\"\n            className=\"btn btn-dark\"\n            onClick={this.handlePrevClick}\n          >\n            {\" \"}\n            &larr; Previous\n          </button>\n          <button\n            disabled={\n              this.state.page + 1 > Math.ceil(this.state.totalArticles / 20)\n            }\n            type=\"button\"\n            className=\"btn btn-dark\"\n            onClick={this.handleNextClick}\n          >\n            Next &rarr;\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default News;\n"]},"metadata":{},"sourceType":"module"}