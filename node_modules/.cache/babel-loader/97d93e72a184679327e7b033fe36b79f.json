{"ast":null,"code":"var _jsxFileName = \"/Users/ayushbhardwaj/Downloads/react/newsapp function/src/components/News.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Spinner from \"./Spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function News(props) {\n  _s();\n\n  const [articles, setArticles] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalResults, setTotalResults] = useState(0);\n  const [loading, setLoading] = useState(false); // const [apiK, setApiK] = useState(\"765c8344bb974b888d87cb5221185475\");\n\n  const cFL = string => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }; // apiK = 'a98db098da0b47fb8cc23ec88e1ac083';\n  // 63c957333f134574a5808b85400d9ddd\n  // apiK: \"765c8344bb974b888d87cb5221185475\",\n\n\n  document.title = `${cFL(props.category)} - DailyAffairs`;\n\n  const updateNews = async () => {\n    // const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=63c957333f134574a5808b85400d9ddd&page=${page}&pageSize=${props.pageSize}`;\n    let data = await fetch(`https://free-news.p.rapidapi.com/v1/search?q=${props.category}&lang=en&page_size=24`, {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"x-rapidapi-host\": \"free-news.p.rapidapi.com\",\n        \"x-rapidapi-key\": \"9af57b7114mshb4e9f585f4b3977p1bef9djsna2d5678aeb56\"\n      }\n    });\n    let parsedData = await data.json();\n    setArticles(parsedData.articles);\n    setTotalResults(parsedData.totalResults);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    updateNews();\n  }, []);\n\n  const fetchMoreData = async () => {\n    // const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=63c957333f134574a5808b85400d9ddd&page=${page+1}&pageSize=${props.pageSize}`;\n    setPage(page + 1);\n    let data = await fetch(`https://free-news.p.rapidapi.com/v1/search?q=${props.category}&lang=en&page_size=24`, {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"x-rapidapi-host\": \"free-news.p.rapidapi.com\",\n        \"x-rapidapi-key\": \"9af57b7114mshb4e9f585f4b3977p1bef9djsna2d5678aeb56\"\n      }\n    });\n    let parsedData = await data.json();\n    setArticles(articles.concat(parsedData.articles));\n    setTotalResults(parsedData.totalResults);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      style: {\n        margin: \"90px 0px 40px\"\n      },\n      children: [cFL(props.category), \" Headlines\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 16\n    }, this) : null, /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n      dataLength: articles.length,\n      next: fetchMoreData,\n      hasMore: articles.length !== totalResults,\n      loader: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: articles.map(article => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-lg-4 col-xl-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-group\",\n              children: /*#__PURE__*/_jsxDEV(NewsItem, {\n                title: article.title,\n                description: article.description,\n                imageUrl: article.urlToImage,\n                newsUrl: article.url,\n                source: article.source.name,\n                author: article.author,\n                date: article.publishedAt\n              }, article.url, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, \"{article.url}\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n_s(News, \"KBwD7KqjSTD3JN2sSMBnR1zWrC8=\");\n\n_c = News;\nNews.defaultProps = {\n  country: \"in\",\n  page_size: 24,\n  category: \"general\"\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  page_size: PropTypes.number,\n  category: PropTypes.string\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"News\");","map":{"version":3,"sources":["/Users/ayushbhardwaj/Downloads/react/newsapp function/src/components/News.js"],"names":["React","useEffect","useState","NewsItem","Spinner","PropTypes","InfiniteScroll","News","props","articles","setArticles","page","setPage","totalResults","setTotalResults","loading","setLoading","cFL","string","charAt","toUpperCase","slice","document","title","category","updateNews","data","fetch","parsedData","json","fetchMoreData","concat","margin","length","map","article","description","urlToImage","url","source","name","author","publishedAt","defaultProps","country","page_size","propTypes","number"],"mappings":"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","sourcesContent":["import React, {useEffect, useState } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Spinner from \"./Spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\n\nexport default function News(props) {\nconst [articles, setArticles] = useState([])\nconst [page, setPage] = useState(1);\nconst [totalResults, setTotalResults] = useState(0);\nconst [loading, setLoading] = useState(false);\n// const [apiK, setApiK] = useState(\"765c8344bb974b888d87cb5221185475\");\nconst cFL = (string) => {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n// apiK = 'a98db098da0b47fb8cc23ec88e1ac083';\n// 63c957333f134574a5808b85400d9ddd\n// apiK: \"765c8344bb974b888d87cb5221185475\",\n\n  document.title = `${cFL(props.category)} - DailyAffairs`;\n\n\nconst updateNews= async () =>{\n  // const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=63c957333f134574a5808b85400d9ddd&page=${page}&pageSize=${props.pageSize}`;\n  \n  let data = await fetch(`https://free-news.p.rapidapi.com/v1/search?q=${props.category}&lang=en&page_size=24`, {\n    \"method\": \"GET\",\n    \"headers\": {\n      \"x-rapidapi-host\": \"free-news.p.rapidapi.com\",\n      \"x-rapidapi-key\": \"9af57b7114mshb4e9f585f4b3977p1bef9djsna2d5678aeb56\"\n    }\n  });\n  let parsedData = await data.json();\n  setArticles(parsedData.articles);\n  setTotalResults(parsedData.totalResults);\n  setLoading(false);\n  \n}\n\n\nuseEffect(() => {\n updateNews();\n},[]);\n\nconst fetchMoreData= async()=>{\n  // const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=63c957333f134574a5808b85400d9ddd&page=${page+1}&pageSize=${props.pageSize}`;\n  setPage(page + 1);\n  let data = await fetch(`https://free-news.p.rapidapi.com/v1/search?q=${props.category}&lang=en&page_size=24`, {\n    \"method\": \"GET\",\n    \"headers\": {\n      \"x-rapidapi-host\": \"free-news.p.rapidapi.com\",\n      \"x-rapidapi-key\": \"9af57b7114mshb4e9f585f4b3977p1bef9djsna2d5678aeb56\"\n    }\n  });\n  let parsedData = await data.json();\n      setArticles(articles.concat(parsedData.articles))\n      setTotalResults(parsedData.totalResults)\n}\n\n  return (\n    <div className=\"container my-3\">\n    <h1 className=\"text-center\" style={{ margin: \"90px 0px 40px\" }}>\n      {cFL(props.category)} Headlines\n    </h1>\n    {loading ? <Spinner /> : null}\n    <InfiniteScroll\n      dataLength={articles.length}\n      next={fetchMoreData}\n      hasMore={articles.length !== totalResults}\n      loader={<Spinner />}\n    >\n    <div className=\"row\">\n      {articles.map((article) => {\n          return (\n            <div className=\"col-md-6 col-lg-4 col-xl-3\" key=\"{article.url}\">\n              <div className=\"card-group\">\n                <NewsItem\n                  key={article.url}\n                  title={article.title}\n                  description={article.description}\n                  imageUrl={article.urlToImage}\n                  newsUrl={article.url}\n                  source={article.source.name}\n                  author={article.author}\n                  date={article.publishedAt}\n                />\n              </div>\n            </div>\n          );\n        })}\n    </div>\n    </InfiniteScroll>\n   \n    </div>\n  \n);\n}\n        \n\nNews.defaultProps = {\n  country: \"in\",\n  page_size: 24,\n  category: \"general\",\n};\n\nNews.propTypes = {\n  country: PropTypes.string,\n  page_size: PropTypes.number,\n  category: PropTypes.string,\n};\n"]},"metadata":{},"sourceType":"module"}